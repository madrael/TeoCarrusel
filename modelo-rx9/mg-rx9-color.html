<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MG RX9 – Colores</title>
<style>
  :root{
    --ring:#c9c9c9;
    --ring-active:#111;
    --shadow:0 10px 30px rgba(0,0,0,.08);
  }
  *{box-sizing:border-box}
  body{
    margin:0; padding:24px;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:#111; background:#fff;
  }
  h1{
    margin:0 0 4px;
    font-weight:700;
    font-size: clamp(28px, 6vw, 56px);
    letter-spacing: .3px;
  }
  .subtitle{
    margin:0 0 12px; color:#6b7280;
    font-size: clamp(14px, 2.2vw, 18px);
  }
  .stage{
    position:relative;
    max-width: min(1100px, 95vw);
    margin: 8px auto 0;
  }
  .car-frame{
    position:relative;
    border-radius: 14px;
    overflow:hidden;
    background:#fff;
    box-shadow: var(--shadow);
  }
  .car-img{
    width:100%; height:auto; display:block;
    object-fit:contain;
    transition: opacity .25s ease;
  }
  .swatches{
    position:absolute; left:50%; transform:translateX(-50%);
    bottom:18px;
    display:flex; gap:18px;
    background: rgba(255,255,255,.9);
    padding:10px 16px;
    border-radius: 999px;
    box-shadow: 0 6px 16px rgba(0,0,0,.08);
    align-items:center;
  }
  .swatch{
    width:36px; height:36px; border-radius:50%;
    display:grid; place-items:center; cursor:pointer;
    outline:none; border:none; background:transparent; padding:0;
  }
  .dot{
    width:26px; height:26px; border-radius:50%;
    border:2px solid var(--ring);
    box-shadow: inset 0 0 0 2px rgba(255,255,255,.7);
    transition: transform .12s ease, border-color .12s ease;
  }
  .swatch[aria-checked="true"] .dot{
    border-color: var(--ring-active);
    transform: scale(1.05);
  }
  .swatch:focus-visible .dot{
    outline: 3px solid rgba(17,17,17,.25);
    outline-offset: 2px;
  }
  .visually-hidden{
    position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
    overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
  }
  @media (max-width: 640px){
    .swatches{ position:static; transform:none; margin:12px auto 0; }
  }
</style>
</head>
<body>
  <header>
    <h1>Entre el mundo y tú está RX9</h1>
    <p class="subtitle">Conoce la RX9</p>
  </header>

  <main class="stage" aria-label="Selector de color RX9">
    <div class="car-frame">
      <!-- Color inicial: PLATA -->
      <img id="carImage" class="car-img" src="mg-rx9-color-04-plata.png" alt="MG RX9 color Plata" />

      <!-- Burbujas -->
      <div class="swatches" role="radiogroup" aria-label="Colores disponibles">
        <button class="swatch" title="Gris" role="radio" aria-checked="false" data-img="mg-rx9-color-02-gris.png" data-alt="MG RX9 color Gris">
          <span class="dot" style="background:#9aa0a6;"></span>
          <span class="visually-hidden">Gris</span>
        </button>
        <button class="swatch" title="Negro" role="radio" aria-checked="false" data-img="mg-rx9-color-03-negro.png" data-alt="MG RX9 color Negro">
          <span class="dot" style="background:#0d0d0d;"></span>
          <span class="visually-hidden">Negro</span>
        </button>
        <button class="swatch" title="Blanco" role="radio" aria-checked="false" data-img="mg-rx9-color-01-blanco.png" data-alt="MG RX9 color Blanco">
          <span class="dot" style="background:#ffffff;"></span>
          <span class="visually-hidden">Blanco</span>
        </button>
        <button class="swatch" title="Plata" role="radio" aria-checked="true" data-img="mg-rx9-color-04-plata.png" data-alt="MG RX9 color Plata">
          <span class="dot" style="background:#d9dce0;"></span>
          <span class="visually-hidden">Plata</span>
        </button>
        <button class="swatch" title="Verde" role="radio" aria-checked="false" data-img="mg-rx9-color-05-verde.png" data-alt="MG RX9 color Verde">
          <span class="dot" style="background:#0d6f3f;"></span>
          <span class="visually-hidden">Verde</span>
        </button>
      </div>
    </div>
  </main>

  <script>
    const img = document.getElementById('carImage');
    const swatches = document.querySelectorAll('.swatch');

    swatches.forEach(btn => {
      btn.addEventListener('click', () => selectSwatch(btn));
      btn.addEventListener('keydown', (e) => {
        const idx = [...swatches].indexOf(btn);
        if(e.key === 'ArrowRight' || e.key === 'ArrowDown'){
          e.preventDefault();
          const next = swatches[(idx + 1) % swatches.length];
          next.focus(); selectSwatch(next);
        }
        if(e.key === 'ArrowLeft' || e.key === 'ArrowUp'){
          e.preventDefault();
          const prev = swatches[(idx - 1 + swatches.length) % swatches.length];
          prev.focus(); selectSwatch(prev);
        }
      });
    });

    function selectSwatch(el){
      swatches.forEach(b => b.setAttribute('aria-checked', 'false'));
      el.setAttribute('aria-checked', 'true');

      const newSrc = el.getAttribute('data-img');
      const newAlt = el.getAttribute('data-alt') || 'MG RX9';
      img.style.opacity = 0.15;
      const tmp = new Image();
      tmp.onload = () => {
        img.src = newSrc;
        img.alt = newAlt;
        requestAnimationFrame(() => { img.style.opacity = 1; });
      };
      tmp.src = newSrc;
    }
  </script>
</body>
</html>
